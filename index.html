<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>

    <script>

        // Chargement des données
        d3.csv("liens.csv").then(function (edgesData) {
            d3.csv("noeuds.csv").then(function (nodesData) {
                // Vous pouvez maintenant utiliser linksData et nodesData pour créer la matrice d'adjacence
                createAdjacencyMatrix(nodesData, edgesData);
            });
        });

        function createAdjacencyMatrix(nodes, edges) {
            var edgeHash = {};
            for (x in edges) {
                var id = edges[x].source + "-" + edges[x].target;
                edgeHash[id] = edges[x];
            }
            matrix = [];
            //create all possible edges
            for (const [a, node_a] of nodes.entries()) {
                for (const [b, node_b] of nodes.entries()) {
                    var grid = { id: node_a.id + "-" + node_b.id, x: a, y: b, sharedfollowers: 0 };
                    if (edgeHash[grid.id]) {
                        grid.sharedfollowers = parseInt(edgeHash[grid.id].sharedfollowers);
                    }
                    matrix.push(grid);
                }
            }
            return matrix;
        }


    </script>

</body>

</html>